-*- mode:org -*-

* TODO Roadmap
: Should be no more than 2 commits ahead :
** TODO add the tooltip (interface)

* old roadmap
** DONE Multiturn attacks
   CLOSED: [2014-07-01 Tue 20:17]
** DONE Units: random names
   CLOSED: [2014-06-29 Sun 17:04]
   (tmp: use a filled vector and a static index when creating a Unit)

* TODO Git
: Do not add directly new features on master anymore :
** DONE Merge ResourcesManager branch
   CLOSED: [2013-06-07 Fri 17:58]
** DONE Merge master & test (switch to std::shared_ptr)
   CLOSED: [2014-06-22 Sun 13:50]
** TODO Merge master & interface (refactored interface)


* TODO keys
** DONE make the cursor move
   CLOSED: [2013-04-17 Wed 16:41]
** TODO use the mouse to make it move
** DONE selection, pop panel / bar: no key repeat allowed
   CLOSED: [2013-04-21 Sun 21:56]
   set a boolean when pressed OR released

* TODO Game Features
** DONE [#A] Selection (drag and drop units)
   CLOSED: [2013-08-06 Tue 22:46]
** DONE path-finding
   CLOSED: [2014-06-18 Wed 00:10] (using a flood-fill)
** TODO Allow direct attack when a target is already at range
   (do not pass through move action)
** TODO allow a unit to attack when a target become accessible (after moving)

* TODO Code Design
** DONE [#A] really use Settings class (key repeat delay, ...) should be in it
   CLOSED: [2013-05-07 Tue 13:08]
** TODO make an Event Manager test with boost signals (emulate callbacks)
** DONE Resources Manager
   CLOSED: [2013-05-07 Tue 13:08]
** TODO use size_t
** TODO use emplace[_back] with std::vector (C++11)
   (instead of create and push)
** DONE use Coords / Color / ... (or an int: high / low)
   CLOSED: [2013-08-06 Tue 10:44]
   not SFML dependant
** TODO auto-generate XML
*** TODO OS-dependant in script language
**** TODO Shell Script
**** TODO [#C] .bat
*** TODO non-OS dependant (in C++)
** TODO [#A] GLOBAL static class
** TODO [#A] Clean (truly use C++11-14)
*** TODO use reference
*** TODO use const +/- whenever possible
*** DONE use C++11 enum (type / size)
    CLOSED: [2015-01-24 Sa 15:06]
** TODO follow the C++ rule of 5
** DONE remove non needed raw pointers
   CLOSED: [2014-06-20 Fri 14:30]
** DONE remove non needed new (use std::make_shared)
   CLOSED: [2014-06-22 Sun 10:59]
** TODO Hunt dead code
** TODO split 'own' code and libs (easier to grep, cleaner, distincts warning)
** TODO clean Status class (making a global class ?)
** TODO limit sf::Vector usage
** TODO think about cleaning some types names
   (std::shared_ptr<std::vector<std::shared_ptr<Type>>> -> typedef)
   could use using std::vector
   could use typedef std::shared_ptr SP
** TODO is inline still relevant in C++14 ?

* TODO Graphics
** DONE make the cursor pulse (each 1/10e sec, re-scale, .5 sec, then decrease)
   CLOSED: [2013-04-18 Thu 14:47]
   for now: rotation && re-sizing (linked together)
** TODO implement scrolling
** TODO Apply a background to the main window
** DONE selection menu
   CLOSED: [2013-04-21 Sun 21:50]
*** DONE add texture to buttons
	 CLOSED: [2013-04-21 Sun 21:50]
*** DONE add text to buttons
	 CLOSED: [2013-04-21 Sun 21:50]

* TODO Resources
** TODO Sprites
*** DONE soldiers filters
	 CLOSED: [2013-08-14 Wed 11:19]
**** DONE attackable
	 CLOSED: [2013-08-14 Wed 11:19]
**** DONE played
	 CLOSED: [2013-08-14 Wed 11:19]

* TODO Gameplay
** TODO Meteo
*** TODO Graphics: add a snowy transparent sprite
** TODO Fog of War
*** TODO Vision
*** TODO Field of View ?
	Sniper: very good vision, poor field of view (angle)
*** TODO field of hearing
	know there's a unit nearby
	avoid embushes
** TODO more than one unit per cell (helicopter / soldier)
   could use more than one plan (one for ground units, one for air units)
*** TODO Tunnels
   could use different levels of zoom (micro-ing a soldier, macro-ing a tank)
** TODO save / load from file (XML / own ?)
** TODO dual windows (main window / infos panel)
** TODO Customize gear
   (riffles, kevlar, silencer, vehicles options)
** TODO ammo management
   by clip || bullet per bullet
** TODO Genie
   building Heliport, wounded evac
   repair center
   bury mines
   dig
   build bridges
** TODO units ranks / promotion / leader
** TODO Motion
*** TODO Move Management
   for each cell: simply move, shoot somewhere or sprint
   could micro a 5 soldier team:
     (5 cells max motion)
     2 fires at cell #2 to the north, 3 fires at cell #3 to the south
	 team regroup at #cell 4 (open fire costs 1 move)
*** TODO Open Fire Management
	while moving
	Shift on a cell: sprint (increase move costs, reduces damages taken)
	  [manage wounded whiles sprinting ?]
	Control on a cell: open fire in mouse direction
	  8 surrounding cells (less damages, even less for not 4 'direct' cells)
	  ground unit: manage how many bullets per shot ?
	  allow spamming ?
	  vehicles: rotating turret required
	    (else: fire more or less only straight shots)
		(while moving ?)
	Alt on a cell: unit rotation
	  increase reactivity
	  only on simple move

* TODO Sound
** 3D sound (using OpenAL)

* TODO Interface
** DONE draw selection menu
   CLOSED: [2013-04-21 Sun 11:17]
   position = f(selectedCell)
** TODO Informations Panel (cell type, ...)
** TODO Menu Bar
** TODO Configuration file
** TODO Mini-map
** TODO select between satellite or schematic view
** TODO unit selection -> 'flashing lights'
** TODO center text in in-game menu entries
** DONE integrate Cursor
   CLOSED: [2013-07-27 Sat 07:59]
** TODO Display last killed unit list

* TODO Network
** TODO Chat
** TODO multi-players

* TODO Multi-Platforms
** DONE Linux (current ref: Arch Linux / Fedora)
   CLOSED: [2014-06-20 Fri 14:29]
** TODO Windows
** TODO Unix (BSD)
** TODO Mac OS

* TODO Graphic Engine
** TODO Units filter sprite
** TODO Units orientation
   only graphic attribute ?
   use while moving a unit (default: look ahead, can check a side)
** TODO Libraries
*** TODO switch 'on demand' (at compilation time)
	use SFML if available, else SDL, pure OpenGL, ASCII, DirectX, ...
** TODO Sprites management
   merge on common themes
   1 theme -> 1 load, 1 free

* TODO Menu
** DONE Stack implementation
   CLOSED: [2013-07-24 Wed 07:06]
** TODO Main menu

* TODO Tools
** TODO Commit checker
*** TODO memory leaks checker before commit
*** TODO auto-compile / launch for all build rules
*** TODO auto generate documentation
** TODO non-regression tests
*** TODO game scripts
** TODO helper
   header guards with same name
** DONE generate Doxygen Doc
   CLOSED: [2013-08-14 Wed 12:31]
** TODO auto resources XML generator
** TODO source file: auto fetch and insert commit id last modif
** TODO Debug::assert check only on debug if a condition is satisfied
   Debug::assert(state, MODE__MENU)
   -> test if state equals to MODE__MENU and prints an error if not

* TODO Bugs / Features
** TODO Moving Unit
   sometimes a unt can move too far (2 keys simultaneously pressed ?)
** TODO Fix cursor size trouble
   was too big
   (running for a long time ?)
   overflow trouble ?
   unseen for a long time (maybee fixed ?)
** TODO In-game menu: Escape key <> Cancel entry
** TODO Multiple keys maintained for more than a sec
   probably a timer related
   confirmed on bcea8d5b60cf5a8375bbbdc08a5f8d5ddf93e184 (June, 2 2014) probably older
** DONE Attack a target without moving: unit deletion
   CLOSED: [2014-07-01 Tue 20:19]
   was due to a move failure
** DONE Select target mode
   CLOSED: [2014-06-29 Sun 12:23]
   Index value: tends to have more than nb entries possible values
   -> tend to 'browse' a cell two times
   targets array is not clear each time we select a unit (it should be)
** DONE In-game menu: Escape key <> Cancel entry
   CLOSED: [2014-06-29 Sun 12:08]
   same comportement for Escape key and Cancel entry
   (if cancel should unstack everything, it's not a bug)
** DONE Floating Point Exception Failure
   CLOSED: [2014-06-27 Fri 22:48]
   (bug while building menu -> 0 entries, failed on modulo 0)
** DONE [#A] Fix in-game menu pop-up and location
   CLOSED: [2013-07-25 Thu 17:20]
** DONE Font Cleanup segfault (launched from a terminal)
   CLOSED: [2014-06-04 Wed 08:40]
** DONE Panel (F2) malfunction
   CLOSED: [2014-06-21 Sat 21:04]
   only in fullscreen mode
   due to an overflow in _panelX value
   Fixed using another default offset value in full screen
   Fixed another linked bug: left and right panel sizes weren't the same
   -> applied grid thickness twice
** DONE Font load resource segfault
   CLOSED: [2014-06-04 Wed 08:40]
   without valgrind
   multi-folder in xml file sections
** DONE [#B] Add Doxygen Comments in headers
   CLOSED: [2013-04-19 Fri 16:33]
   not perfect but does the job for now
** DONE [#B] Allow Manual Key Repetition
   CLOSED: [2013-04-19 Fri 01:32]
** DONE [#A] More than one key pressed and reset timer trouble
   CLOSED: [2013-04-19 Fri 01:33]
** DONE map initialisation failure
   CLOSED: [2013-04-19 Fri 16:33]
   was a rendering zone room trouble
** TODO Memory Leaks / Errors
*** TODO Definitely Lost
*** DONE Read errors
    CLOSED: [2014-06-20 Fri 14:27]
*** TODO Hide SFML "leaks"
    (current ref: Still reachable: 41,364 bytes in 425 blocks)

* TODO Suppress Warnings
** DONE incomplete Ctors initialisation
   CLOSED: [2014-06-20 Fri 14:28]

* TODO [#C] Optimization
** DONE retreive a Resource
   CLOSED: [2013-07-30 Tue 07:55]
   benchmark between
     manually store an ID, : factor 1
     use a std::map <const char*, unsigned int> : factor 2
	 use a std::map <std::string, unsigned int> : factor 4
** TODO improve InGameMenu stack usage
   Do *NOT* rebuild all entries each frame...
** TODO Sprites
   Every cell doesn't need to have it's own highlight sprite
   -> common sprites (1 per situation [move, attack])
** TODO [#C] refresh only needed cells
   check mouse motion, cursor / units animation
